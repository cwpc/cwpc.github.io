<!DOCTYPE html>
<html lang="en-US">
<head>
<base href="http://localhost/wordpress" />

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Using the XML Export File to Replicate This Site | Communicating with Prisoners</title>
 




<link rel='stylesheet' id='ortext-fonts-css'  href='//fonts.googleapis.com/css?family=Lato%3A300%2C400%2C700%2C900%2C300italic%2C400italic%2C700italic' type='text/css' media='all' />
<link rel='stylesheet' id='ortext-style-css'  href='http://cwpc.github.io/wp-content/themes/ortext/style.css?ver=4.1' type='text/css' media='all' />
<link rel='stylesheet' id='ortext-layout-style-css'  href='http://cwpc.github.io/wp-content/themes/ortext/layouts/content.css?ver=4.1' type='text/css' media='all' />
<link rel='stylesheet' id='ortext_fontawesome-css'  href='http://cwpc.github.io/wp-content/themes/ortext/fonts/font-awesome/css/font-awesome.min.css?ver=4.1' type='text/css' media='all' />
<link rel='stylesheet' id='tablepress-default-css'  href='http://cwpc.github.io/wp-content/plugins/tablepress/css/default.min.css?ver=1.5.1' type='text/css' media='all' />
<style id='tablepress-default-inline-css' type='text/css'>
.tablepress{width:auto;border:2px solid;margin:0 auto 1em}.tablepress td,.tablepress thead th{text-align:center}.tablepress .column-1{text-align:left}.tablepress-table-name{font-weight:900;text-align:center;font-size:20px;line-height:1.3em}.tablepress tfoot th{font-size:14px}.tablepress-table-description{font-weight:900;text-align:center}
</style>
<script type='text/javascript' src='http://cwpc.github.io/wp-includes/js/jquery/jquery.js?ver=1.11.1'></script>
<script type='text/javascript' src='http://cwpc.github.io/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>

 

<link rel='canonical' href='http://cwpc.github.io/replicate-communicating-prisoners-ortext/using-xml-export-file-replicate-site/' />
<link rel='shortlink' href='http://cwpc.github.io/?p=21338' />
</head>

<body class="page page-id-21338 page-child parent-pageid-19369 page-template-default custom-background">

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56314084-1', 'auto');
  ga('send', 'pageview');

</script><div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>

	<header id="masthead" class="site-header" role="banner">
		<div class="site-branding">
			<div class="title-box">
				<h1 class="site-title"><a href="http://cwpc.github.io/" rel="home">Communicating with Prisoners</a></h1>
				<h2 class="site-description">Public Interest Analysis</h2>
			</div>
		</div>
		<div id="scroller-anchor"></div>
		<nav id="site-navigation" class="main-navigation clear" role="navigation">
			<span class="menu-toggle"><a href="#">menu</a></span>
			<div class="menu-left-nav-container"><ul id="menu-left-nav" class="menu"><li id="menu-item-10830" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10830"><a title="outline of sections" href="http://cwpc.github.io/outline-post/">Outline</a></li>
<li id="menu-item-11571" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11571"><a title="context-sensitive notes link" href="http://cwpc.github.io/outline-notes/">Notes</a></li>
<li id="menu-item-11570" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11570"><a title="context-sensitive data link" href="http://cwpc.github.io/list-datasets/">Data</a></li>
</ul></div>			
			<div id="rng">
				<div id="menu-secondary" class="menu-secondary"><ul id="menu-secondary-items" class="menu-items"><li id="menu-item-10840" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10840"><a title="about this ortext" href="http://cwpc.github.io/about/">About</a></li>
</ul></div>				<div class="search-toggle">
					<span class="fa fa-search"></span>
					<a href="#search-container" class="screen-reader-text">search</a>
				</div>
			</div>
		</nav><!-- #site-navigation -->				
		<div id="header-search-container" class="search-box-wrapper clear hide">
			<div class="search-box clear">
				<form role="search" method="get" class="search-form" action="http://cwpc.github.io/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" title="Search for:" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form>			</div>
		</div>						
	</header><!-- #masthead -->

	<div id="content" class="site-content">

	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

			
				
<article id="post-21338" class="post-21338 page type-page status-publish hentry">
	<header class="entry-header">
		<h1 class="entry-title">Using the XML Export File to Replicate This Site</h1>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Although there are simpler, better ways to <a class="otx-link" title="How to Replicate &lt;i&gt;Communicating with Prisoners&lt;/i&gt; Ortext" href="http://cwpc.github.io/replicate-communicating-prisoners-ortext/?otxkey=page-19369">replicate the <em>Communicating with Prisoners</em> ortext</a>, you can get the job done using the XML export file and other content files from the <a class="otx-link" title="Site Archive: Ortext Content, Plugins, and Theme" href="http://cwpc.github.io/datasets/site-archive-ortext/?otxkey=datasets-17184">site source archive</a>.</p>
<p>Here are steps to create a working replica of this site using the XML file:</p>
<ol>
<li><a class="otx-link" title="Site Archive: Ortext Content, Plugins, and Theme" href="http://cwpc.github.io/datasets/site-archive-ortext/?otxkey=datasets-17184">Download the <em>Communicating with Prisoners</em> ortext source archive</a>. This will be called the source. See the download page for details on where to find specific items within the source.</li>
<li><a href="http://codex.wordpress.org/Installing_WordPress">Install WordPress</a> on your web server.</li>
<li>Set up the correct permalinks. Within the WordPress admin <em>Settings -&gt; Permalinks</em>, change the permalink form by setting the <em>Post name</em> button. Set the <em>Category Base</em> to <em>section</em> and the <em>Tag base</em> to <em>topic</em></li>
<li>Set up the media. Within the WordPress admin <em>Settings -&gt; Media</em>, change the medium size to 550&#215;550 and uncheck <em>Organize my uploads into month- and year-based folders</em></li>
<li>Replace the <em>uploads</em> folder. Use standard tools to replace your WordPress installations <em>uploads</em> folder with the source <em>uploads</em> folder. For an online server, you upload a folder to WordPress installation independently of WordPress using a ftp or sftp (better) program. If you don&#8217;t do that, you won&#8217;t see the faces of the prisoners and you won&#8217;t see any graphs or images within the content.</li>
<li>Add the Ortext theme to your installation. If you zip the relevant source ortext theme folder, you can upload it within WordPress admin via <em>Appearance -&gt; Themes</em>, click on <em>Add New</em> button, and then click on <em>Upload</em> button. Alternatively, you need to transfer the folder to your <em>wp-content/themes</em> directory using standard tools. Once you have moved the Ortext theme (ortext theme folder) into your WordPress installation, activate the Ortext theme.</li>
<li>Add two Ortext plugins and TablePress to your installation. The two ortext plugins are <em>Ortext Formating </em>and <em>Ortext Datalinks</em>. If you zip the relevant source plugin folders <em>otx-format </em>and <em>otx-datalinks, </em>you can upload them within WordPress admin via <em>Plugins -&gt; Add New</em>, and click on the <em>Upload Plugin</em> button. Alternatively, you need to move those plugin folders to your <em>wp-content/plugins</em> directory using standard tools. <em>TablePress</em> can be installed similarly, or from the WordPress plugin directory. Once you have installed the three plugins <em>Ortext Formating, </em><em>Ortext Datalinks, </em>and<em> TablePress, </em>activate them<em>.</em></li>
<li>Rebase the hyperlinks if necessary. The <em>Communicating with Prisoners</em> XML content file <em>communicatingwithprisoners.wordpress.{date}.xml</em> has internal links with the base <em>localhost/wordpress</em>.  If that&#8217;s not your host URL, you need to re-based the internal links. That means changing all instances of <em>localhost/wordpress</em> (search) to <em>example.com</em> (replace), where you substitute your base URL for <em>example.com</em>. You can do this with a search-and-replace on the xml content using a simple code editor such as <a href="http://www.notepad-plus-plus.org/">Notepad++</a>.  Don&#8217;t use a word processor such as Microsoft Word. If you have installed your server locally at <em>localhost/wordpress</em>, you don&#8217;t have to do these search-and-replaces because the search and replace strings are identical.</li>
<li>Import ortext XML content. Make sure first that you have the Ortext plugins activated so that you see Notes, Statistics, Datasets, etc. in the left menu. Within WordPress admin <em>Tools</em> -&gt; <em>Import</em>, click on WordPress. You will be prompted to install the WordPress Importer plugin. Alternatively, you may have to install it from the WordPress directory at <em>Plugins -&gt; Add New</em>. Activate it and go back to <em>Tools</em> -&gt; <em>Import</em> as above. When you get to the WordPress Importer import screen, browse for the site archive file <em>communicatingwithprisoners.wordpress.{date}.xml</em> That&#8217;s the one to import. <em>Click Upload File and Import</em>. On the subsequent screen, assign all post to the user name you created at installation (do that through the drop-down box). DO NOT check the Importer&#8217;s checkbox for <em>Download and import file attachments</em>.  Perform the content import. It could take 5 minutes or more to complete. You will see a completion note appear on the screen. The media imports will fail. Don&#8217;t worry about that.</li>
<li>Customize the Ortext theme. Make sure it&#8217;s active. Go to WordPress admin Appearance -&gt; Customize.
<ul>
<li>Expand the Navigation customization. Set the <em>Primary Menu</em> as <em>left nav</em> and the <em>Secondary Menu</em> as <em>right nav</em>.</li>
<li>Expand Widgets -&gt; Footer Widget. Open each of the footer widget items and remove them.</li>
<li>Expand the <em>Static Front Page</em> customization and set <em>Static Page</em>. Then choose for the front page <em>Front Page: Communicating with Prisoners</em>.</li>
<li>Click on <em>Save &amp; Publish</em> at the top of the column. Exit via the top left<em> X</em>.</li>
</ul>
</li>
<li>Import the TablePress tables and css.  Go to <em>TablePress -&gt; Import a Table</em>. Browse for the import file <em>tablepress-export-{data and time}-json.zip</em> Set the import format to JSON. Press the <em>Import</em> button to import the tables. Then at <em>TablePress -&gt; Plugin Options</em>, copy and paste the css contents of the source file <em>tablepress-custom-css.txt</em> into the relevant box. Press the <em>Save Changes</em> button.</li>
</ol>
<p>If you have successfully completed all these steps, you&#8217;re good. Even if you have messed up some step, you should still have some content for ortext experimentation.</p>
<p>Unfortunately, the hyperlinks in the TablePress files are probably wrong. They point to <em>http:</em>//<em>localhost/wordpress/&#8230;</em>. A search-and-replace is burdensome because the TablePress tables are archived in JSON (which has a backslash before the forward slash) and each table is in a separate fie. So it&#8217;s easiest simply to edit manually the hyper links for each table (usually only one hyperlink per table) through the TablePress editor in the WordPress admin. Alternatively, just don&#8217;t worry about the problem of non-functioning source links in the TablePress tables.</p>
<p>Unless you&#8217;ve installed locally at <em>localhost/wordpress</em>, the source media won&#8217;t appear in the admin Media panel. That&#8217;s because the attachments aren&#8217;t set up correctly. Don&#8217;t worry about that for an experimental site. Even though it doesn&#8217;t appear in the media admin panel, all the media will appear correctly on the site&#8217;s front end. If you want to modify any of the media and use it elsewhere in the content, re-upload it within WordPress via the standard WordPress insert media process. You can also do that to recreate the media in the media folder if you are unable simply to move the media there.</p>
			</div><!-- .entry-content -->
	<footer class="entry-footer">
			</footer><!-- .entry-footer -->
</article><!-- #post-## -->

				
			
		</main><!-- #main -->
	</div><!-- #primary -->

	</div><!-- #content -->
	
		<footer id="colophon" class="site-footer" role="contentinfo">
						<div class="site-info">
				<nav id="site-navigation" class="main-navigation clear" role="navigation">
					<span class="menu-toggle"><a href="#">menu</a></span>
					<div class="menu-left-nav-container"><ul id="menu-left-nav-1" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10830"><a title="outline of sections" href="http://cwpc.github.io/outline-post/">Outline</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11571"><a title="context-sensitive notes link" href="http://cwpc.github.io/outline-notes/">Notes</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11570"><a title="context-sensitive data link" href="http://cwpc.github.io/list-datasets/">Data</a></li>
</ul></div>			
					<div id="rng">
						<div id="menu-secondary" class="menu-secondary"><ul id="menu-secondary-items" class="menu-items"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10840"><a title="about this ortext" href="http://cwpc.github.io/about/">About</a></li>
</ul></div>						<div class="search-toggle-bottom">
							<span class="fa fa-search"></span>
							<a href="#search-container" class="screen-reader-text">search</a>
						</div>
					</div>			
					<div id="header-search-container" class="search-box-wrapper-bottom clear hide">
						<div class="search-box clear">
							<form role="search" method="get" class="search-form" action="http://cwpc.github.io/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" title="Search for:" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form>						</div>
					</div>	
					<div id="footer-tagline">
						<a href="http://cwpc.github.io/">Communicating with Prisoners</a>	
					</div>
				</nav><!-- #site-navigation -->				
			</div><!-- .site-info -->
		</footer><!-- #colophon -->

</div><!-- #page -->

<script type='text/javascript' src='http://cwpc.github.io/wp-content/themes/ortext/js/superfish.min.js?ver=1.7.4'></script>
<script type='text/javascript' src='http://cwpc.github.io/wp-content/themes/ortext/js/superfish-settings.js?ver=1.7.4'></script>
<script type='text/javascript' src='http://cwpc.github.io/wp-content/themes/ortext/js/navigation.js?ver=20120206'></script>
<script type='text/javascript' src='http://cwpc.github.io/wp-content/themes/ortext/js/skip-link-focus-fix.js?ver=20130115'></script>
<script type='text/javascript' src='http://cwpc.github.io/wp-content/themes/ortext/js/hide-search.js?ver=20120206'></script>
<script type='text/javascript' src='http://cwpc.github.io/wp-content/themes/ortext/js/show-hide-comments.js?ver=1.0'></script>

</body>
</html>



<!-- Dynamic page generated in 0.292 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2015-01-27 23:54:30 -->

<!-- super cache -->